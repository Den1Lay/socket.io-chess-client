{"version":3,"sources":["img/picture.png","redux/reducer.js","redux/store.js","redux/actions.js","cors/socket.js","containers/Board.js","components/Knight/index.jsx","components/Square/index.jsx","containers/BoardSquare.js","moduls/Login/index.jsx","pages/Home/index.jsx","index.js"],"names":["module","exports","initialState","me","partner","inAir","next","isLoginIn","getNewStaff","staff","a","checkId","id","x","y","forEach","i","X","Y","findAndKill","enemyArr","console","log","res","filter","prepare","etalon","pre","down","map","el","substr","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","state","action","type","payload","address","we","applyMiddleware","actions","moveTo","addToAir","deleteFromAir","gameSet","socket","io","on","position","dispatch","connect","squares","push","BoardSquare","key","className","simbol","deadColor","useDrag","item","begin","monitor","end","dropResult","getDropResult","emit","Math","abs","collect","isDragging","drag","ref","classNames","Square","black","children","overlay","React","Children","cloneElement","checkPath","white","dark","directions","checkArr","xDir","yDir","ripFlag","newPlace","newX","newY","some","pathBuilder","BoardSquares","place","preparePlace","array","useDrop","accept","drop","canDrop","dx","dy","slice","checkMove","isOver","backColor","style","width","height","Login","handleSubmit","e","preventDefault","onSubmit","Item","prefix","color","placeholder","htmlType","useState","findStatus","setFindStatus","length","message","showIcon","onChange","onClick","root","document","getElementById","render","DndProvider","backend","HTML5Backend","exact","path","component","Home"],"mappings":"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","file":"static/js/main.2010afa0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/picture.7a4628fe.png\";","const initialState = {\r\n  //knightPosition: [0, 4],\r\n  me: [],\r\n  partner: [],\r\n  inAir: null,\r\n  next: 'W',\r\n  isLoginIn: false,\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case 'GAME:SET': {\r\n      console.log('GameSetUp')\r\n      const etalon = [\r\n        {id: 'Rook1', X: 0, Y: 0},\r\n        {id: 'Knight1', X: 1, Y: 0},\r\n        {id: 'Elephant1', X: 2, Y: 0},\r\n        {id: 'Queen', X: 3, Y: 0},\r\n        {id: 'King', X: 4, Y: 0},\r\n        {id: 'Elephant2', X: 5, Y: 0},\r\n        {id: 'Knight2', X: 6, Y: 0},\r\n        {id: 'Rook2', X: 7, Y: 0},\r\n        {id: 'Pawn1', X: 0, Y: 1},\r\n        {id: 'Pawn2', X: 1, Y: 1},\r\n        {id: 'Pawn3', X: 2, Y: 1},\r\n        {id: 'Pawn4', X: 3, Y: 1},\r\n        {id: 'Pawn5', X: 4, Y: 1},\r\n        {id: 'Pawn6', X: 5, Y: 1},\r\n        {id: 'Pawn7', X: 6, Y: 1},\r\n        {id: 'Pawn8', X: 7, Y: 1},   \r\n      ]\r\n      let { me, address } = action.payload\r\n      const pre = me === 'light'\r\n      return {\r\n        ...state,\r\n        me: prepare({etalon, pre, down: true}),\r\n        partner: prepare({etalon, pre: !pre}),\r\n        address\r\n      }\r\n    }\r\n    case 'MOVE:KNIGHT': {\r\n      console.log(action.payload.id,'PASSS')\r\n      const we = state.me[0].id[0]\r\n      return action.payload.id[0] === we \r\n      ? {...state,\r\n        me: getNewStaff(state.me, action.payload),\r\n        partner: findAndKill(state.partner, action.payload),\r\n        next: we === 'W' ? 'D' : 'W'\r\n      }\r\n      : {...state,\r\n        partner: getNewStaff(state.partner, action.payload),\r\n        me: findAndKill(state.me, action.payload),\r\n        next: we\r\n      }\r\n    }\r\n    case 'AIR:ADD': {\r\n      return {\r\n        ...state,\r\n        inAir: action.payload\r\n      }\r\n    }\r\n    case 'AIR:DELETE': {\r\n      return {\r\n        ...state, \r\n        inAir: null\r\n      }\r\n    }\r\n    default: {\r\n      return {\r\n        ...state\r\n      }\r\n    }\r\n  }\r\n} \r\n\r\nconst getNewStaff = (staff, {id: checkId, x, y}) => {\r\n  let a\r\n  staff.forEach(({id}, i) => {\r\n    if(id === checkId) {\r\n      a = i\r\n    }\r\n  })\r\n  staff[a] = {id: checkId, X:x, Y:y}\r\n  return staff\r\n}\r\n\r\nconst findAndKill = (enemyArr, {x, y}) => {\r\n  console.log(enemyArr, x, y, 'DARK MOVE')\r\n  let res = enemyArr.filter(({X, Y}) => !(X === x && Y === y));\r\n  console.log(res, 'REEES')\r\n  return res;\r\n}\r\n\r\nconst prepare = ({etalon, pre, down}) => {\r\n  return down\r\n  ? etalon.map(el => ({id: pre ? 'W'+el.id : 'D'+el.id, X: el.X, Y: el.id.substr(0, 4) === 'Pawn' ? 6 : 7}))\r\n  : etalon.map(el => ({id: pre ? 'W'+el.id : 'D'+el.id, X: el.X, Y: el.Y}))\r\n}\r\n\r\n// const down = [\r\n//   {id: 'Rook1', X: 0, Y: 7},\r\n//   {id: 'Knight1', X: 1, Y: 7},\r\n//   {id: 'Elephant1', X: 2, Y: 7},\r\n//   {id: 'Queen', X: 3, Y: 7},\r\n//   {id: 'King', X: 4, Y: 7},\r\n//   {id: 'Elephant2', X: 5, Y: 7},\r\n//   {id: 'Knight2', X: 6, Y: 7},\r\n//   {id: 'Rook2', X: 7, Y: 7},\r\n//   {id: 'Pawn1', X: 0, Y: 6},\r\n//   {id: 'Pawn2', X: 1, Y: 6},\r\n//   {id: 'Pawn3', X: 2, Y: 6},\r\n//   {id: 'Pawn4', X: 3, Y: 6},\r\n//   {id: 'Pawn5', X: 4, Y: 6},\r\n//   {id: 'Pawn6', X: 5, Y: 6},\r\n//   {id: 'Pawn7', X: 6, Y: 6},\r\n//   {id: 'Pawn8', X: 7, Y: 6},\r\n// ]","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from './reducer'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(...middleware)))\r\n\r\nexport default store","const actions = {\r\n  moveTo: (id, x, y) => ({\r\n    type: 'MOVE:KNIGHT',\r\n    payload: {id, x, y}\r\n  }),\r\n  addToAir: id => ({\r\n    type: 'AIR:ADD',\r\n    payload: id\r\n  }),\r\n  deleteFromAir: () => ({\r\n    type: 'AIR:DELETE'\r\n  }),\r\n  gameSet: ({address, me}) => ({\r\n    type: 'GAME:SET',\r\n    payload: {\r\n      address,\r\n      me\r\n    }\r\n  })\r\n}\r\n  \r\n\r\nexport default actions\r\n","import io from 'socket.io-client';\r\nimport actions from 'redux/actions'\r\nimport store from 'redux/store'\r\n\r\nconst { gameSet, moveTo } = actions\r\n\r\nconst socket = io('http://localhost:4000')\r\n\r\nsocket.on('GAME:START_FINDING', () => {\r\n    console.log('CONFIRM')\r\n  })\r\nsocket.on('HANDSHAKE', ({socket}) => console.log(`Handshake: ${socket}`))\r\nsocket.on('GAME:FIND', ({partner, position}) => {\r\n  store.dispatch(gameSet({address: partner, me: position}))\r\n  console.log(`FIND Game with ${partner} and ${position} position`)\r\n})\r\nsocket.on('GAME:MOVE', ({payload: {id, x, y}}) => {\r\n  console.log('GetPayload')\r\n  store.dispatch(moveTo(id, x, y))\r\n})\r\n\r\nexport default socket","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport actions from 'redux/actions'\r\n\r\nimport {BoardSquare} from 'containers' \r\n\r\nimport 'styles/Board.scss'\r\n\r\nconst Board = ({me, partner, moveTo, inAir}) => {\r\n  //console.log(white)\r\n  let squares = []\r\n  for (let x = 0; x < 64; x++) {\r\n    squares.push(<BoardSquare \r\n        x={x} \r\n        key={x}\r\n        //knightPosition={knightPosition}\r\n        me={me}\r\n        partner={partner}\r\n        inAir={inAir}\r\n        moveTo={moveTo} />)\r\n  }\r\n\r\n  return (\r\n    <div className='board'>\r\n      {squares}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(state => ({me: state.me, partner: state.partner, inAir: state.inAir}), actions)(Board)","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { DragPreviewImage, useDrag } from 'react-dnd'\r\nimport classNames from 'classnames'\r\nimport actions from 'redux/actions'\r\n\r\nimport { socket } from 'cors'\r\n\r\nimport picture from 'img/picture.png'\r\nimport './Knight.scss'\r\n\r\n\r\nconst Knight = ({addToAir, deleteFromAir, moveTo, state, id, simbol, next, deadColor, me, address}) => {\r\n  console.log(deadColor, 'DEADCOLOR')\r\n  const [{isDragging}, drag, preview] = useDrag({\r\n    item: { type: 'knight', id},\r\n    begin: (monitor) => {\r\n      addToAir(id)\r\n      console.log(`DEBAG STATE: ${state}`)\r\n    },\r\n    end: (item, monitor) => {\r\n      const dropResult = monitor.getDropResult()\r\n      if(item && dropResult) {\r\n        //console.log(item.id,' and ',dropResult.name)\r\n        const {x, y} = dropResult\r\n        console.log(`DEBAG STATE: ${state}`)\r\n        console.log(`MoveTo id: ${id}, X:${x}, y: ${y}`)\r\n        moveTo(id, x, y)\r\n        socket.emit('GAME:MOVE', {address, payload: {id, x, y: Math.abs(y-7)}})\r\n        deleteFromAir()\r\n      }\r\n    },\r\n\t\tcollect: monitor => ({\r\n\t\t\tisDragging: !!monitor.isDragging(),\r\n    }),\r\n    \r\n  })  \r\n  return (\r\n    <>\r\n      {/* <DragPreviewImage connect={preview} src={picture}/> */}\r\n      <span \r\n      ref={id[0] === next && id[0] === me[0].id[0] ? drag : null}\r\n      className={\r\n          classNames('knight', \r\n          isDragging && 'knight__isDraging', \r\n          !deadColor && (id[0] === 'D'\r\n          ? 'knight__darkSide'\r\n          : 'knight__lightSide'),\r\n          deadColor && 'knight__deadColor')}>{simbol}</span>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default connect(({inAir, next, me, address})=>({inAir, next, me, address}), actions)(Knight)","import React from 'react';\r\nimport classNames from 'classnames'\r\nimport {Overlay} from 'components'\r\n\r\nimport './Square.scss'\r\nconst Square = ({black, children, overlay}) => {\r\n  if(overlay && !children) {\r\n    children = <div className={classNames('square__boll', `square__boll--${overlay}`)}></div>\r\n  }\r\n  return (\r\n    <div>\r\n      <div \r\n      className={classNames('square', black && 'square__black')}>\r\n      {React.Children.map(children, () => React.cloneElement(children, {'deadColor': overlay}))}</div> \r\n    </div>\r\n  )\r\n}\r\nexport default Square","import React from 'react';\r\nimport { useDrop } from 'react-dnd'\r\n\r\nimport {Square, Knight} from 'components'\r\n\r\nconst checkMove = (me, partner, inAir, x, y) => {\r\n  let res = me.filter(({id}) => id === inAir);\r\n  let {X, Y, id} = res[0];\r\n  console.log(`X: ${X}, Y: ${Y}, AIR: ${inAir}`)\r\n  const dx = X - x;\r\n  const dy = Y - y;\r\n  if(me.some(({X, Y}) => X === x && Y === y)) {\r\n    return false\r\n  }\r\n  \r\n  if(id.slice(0, 5) === 'WPawn' || id.slice(0, 5) === 'DPawn' || id === 'WKing' || id === 'DKing') {\r\n    return (\r\n      (Math.abs(dx) === 1 && Math.abs(dy) === 1) ||\r\n      (Math.abs(dx) === 1 && Math.abs(dy) === 0) ||\r\n      (Math.abs(dx) === 0 && Math.abs(dy) === 1)\r\n    )\r\n  } else if(id.slice(0, 7) === 'WKnight' || id.slice(0, 7) === 'DKnight') {\r\n    return (\r\n      (Math.abs(dx) === 2 && Math.abs(dy) === 1) ||\r\n      (Math.abs(dx) === 1 && Math.abs(dy) === 2)\r\n      )\r\n  } else if(id === 'WQueen' || id === 'DQueen') {\r\n    return checkPath(\r\n        {\r\n        white: me, // Белые это мы \r\n        dark: partner, // Тьма противник \r\n        X, Y, x, y, directions: [\r\n        {xDir:1, yDir:1},\r\n        {xDir:-1, yDir:-1},\r\n        {xDir:-1, yDir:1},\r\n        {xDir:1, yDir:-1},\r\n        {xDir:1, yDir: 0},\r\n        {xDir:-1, yDir: 0},\r\n        {xDir:0, yDir: 1},\r\n        {xDir:0, yDir: -1}\r\n      ]\r\n    })\r\n  } else if ( id.slice(0, 9) === 'WElephant' || id.slice(0, 9) === 'DElephant') {\r\n    return checkPath(\r\n      {\r\n      white: me, \r\n      dark: partner, \r\n      X, Y, x, y, directions: [\r\n      {xDir:1, yDir:1},\r\n      {xDir:-1, yDir:-1},\r\n      {xDir:-1, yDir:1},\r\n      {xDir:1, yDir:-1},\r\n    ]\r\n  })\r\n  } else if ( id.slice(0, 5) === 'WRook' || id.slice(0, 5) === 'DRook') {\r\n    return checkPath(\r\n      {\r\n      white: me, \r\n      dark: partner, \r\n      X, Y, x, y, directions: [\r\n      {xDir:1, yDir: 0},\r\n      {xDir:-1, yDir: 0},\r\n      {xDir:0, yDir: 1},\r\n      {xDir:0, yDir: -1}\r\n    ]\r\n  }) \r\n  }\r\n}\r\n\r\nconst checkPath = ({white, dark, X, Y, x, y, directions}) => {\r\n  let checkArr = [];\r\n  const pathBuilder = (xDir, yDir) => {\r\n    let ripFlag = true\r\n    let newPlace = {newX: X, newY: Y}\r\n    while(ripFlag) {\r\n      newPlace = {newX: newPlace.newX + xDir, newY: newPlace.newY + yDir}\r\n      if (newPlace.newX <= 7 && newPlace.newX > -1 && newPlace.newY <= 7 && newPlace.newY > -1) {\r\n\r\n        if(dark.some(({X, Y}) => X === newPlace.newX && Y === newPlace.newY)) {\r\n          checkArr.push(newPlace)\r\n          ripFlag = false\r\n        }\r\n\r\n        if(white.some(({X, Y}) => X === newPlace.newX && Y === newPlace.newY)) {\r\n          ripFlag = false\r\n        } else {\r\n          checkArr.push(newPlace)\r\n        }\r\n\r\n      } else {\r\n        ripFlag = false\r\n      }\r\n\r\n    }\r\n  };\r\n  directions.forEach(({xDir, yDir}) => pathBuilder(xDir, yDir))\r\n  return checkArr.some(({newX, newY}) => newX === x && newY === y)\r\n}\r\n\r\nconst BoardSquares = ({x:i, me, partner, inAir}) => {\r\n  console.log(me, partner)\r\n  const x = i % 8;\r\n  const y = ~~(i / 8);\r\n  const black = (x + y) % 2 === 1;\r\n  let place = null; \r\n\r\n  const preparePlace = ({array}) => {\r\n    array.forEach(({X, Y, id}) => {\r\n      if(x === X && y === Y) {\r\n        switch (id.substr(1, 4)) {\r\n          case 'Rook': \r\n            place = <Knight id={id} simbol={'♜'} />\r\n            break;\r\n          case 'Elep': \r\n            place = <Knight id={id} simbol={'♝'} />\r\n            break;\r\n          case 'Knig': \r\n            place = <Knight id={id} simbol={'♞'} />\r\n            break;\r\n          case 'Pawn': \r\n            place = <Knight id={id} simbol={'♟'} />\r\n            break;\r\n          case 'Quee':\r\n            place = <Knight id={id} simbol={'♛'} />\r\n            break;\r\n          case 'King':\r\n            place = <Knight id={id} simbol={'♚'} />\r\n            break;\r\n        }\r\n      }\r\n    })\r\n  }\r\n  preparePlace({array: me})\r\n  preparePlace({array: partner})\r\n  // me.forEach(({X, Y, id}, i) => {\r\n  //   if(x === X && y === Y) {\r\n  //     if(id.slice(0, 5) === 'WPawn') {\r\n  //       place = <Knight id={id} simbol={'♟'} />\r\n  //     } else if (id.slice(0, 7) === 'WKnight') {\r\n  //       place = <Knight id={id} simbol={'♞'}/>\r\n  //     } else if (id.slice(0, 9) === 'WElephant') {\r\n  //       place = <Knight id={id} simbol={'♝'}/>\r\n  //     } else if (id.slice(0, 5) === 'WRook') {\r\n  //       place = <Knight id={id} simbol={'♜'}/>\r\n  //     }\r\n  //     switch (id) {\r\n  //       case 'WQueen':\r\n  //         place = <Knight id={id} simbol={'♛'} />\r\n  //         break;\r\n  //       case 'WKing':\r\n  //         place = <Knight id={id} simbol={'♚'} />\r\n  //         break;\r\n  //     }\r\n  //   }\r\n  // })\r\n  // //console.log('ЕГОР ЭТО ДЛЯ ТЕБЯ))))')\r\n  // partner.forEach(({X, Y, id}, i) => {\r\n  //   if(x === X && y === Y) {\r\n  //     if(id.slice(0, 5) === 'DPawn') {\r\n  //       place = <Knight id={id} simbol={'♟'} />\r\n  //     } else if (id.slice(0, 7) === 'DKnight') {\r\n  //       place = <Knight id={id} simbol={'♞'}/>\r\n  //     } else if (id.slice(0, 9) === 'DElephant') {\r\n  //       place = <Knight id={id} simbol={'♝'}/>\r\n  //     } else if (id.slice(0, 5) === 'DRook') {\r\n  //       place = <Knight id={id} simbol={'♜'}/>\r\n  //     }\r\n  //     switch(id) {\r\n  //       case'DQueen':\r\n  //         place = <Knight id={id} simbol={'♛'} />\r\n  //         break;\r\n  //       case 'DKing':\r\n  //         place = <Knight id={id} simbol={'♚'} />\r\n  //         break;\r\n        \r\n  //     }\r\n  //   }\r\n  // })\r\n\r\n  const [{ isOver, canDrop }, drop] = useDrop({\r\n\t\taccept: 'knight',\r\n    drop: () => ({x, y}),\r\n    canDrop: () => checkMove(me, partner, inAir, x, y),\r\n\t\tcollect: monitor => ({\r\n      isOver: !!monitor.isOver(),\r\n      canDrop: !!monitor.canDrop()\r\n\t\t}),\r\n  })\r\n  //console.log(place, 'PLACE')\r\n  //console.log(`SQUARE: X:${x}, Y:${y}, isOver: ${isOver}, canDrop: ${canDrop}`)\r\n  let backColor = isOver && !canDrop\r\n  ? \"red\" : !isOver && canDrop\r\n  ? \"yellow\" : isOver && canDrop\r\n  ? \"green\" : null\r\n  return (\r\n    <div ref={drop} style={{width: '12.5%', height: '12.5%'}}>\r\n      <Square \r\n        key={i} \r\n        black={black}\r\n        overlay={backColor}>\r\n        {place}\r\n      </Square>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BoardSquares","import React from 'react';\r\nimport { Form, Icon, Input, Button, Checkbox } from 'antd';\r\nimport classNames from 'classnames';\r\n\r\n\r\nimport './Login.scss'\r\n\r\nconst Login = () => {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    console.log(e)\r\n  }\r\n\r\n  return (\r\n    <section className={classNames('login')}>\r\n      \r\n      <Form onSubmit={() => handleSubmit} className=\"login-form\">\r\n        <Form.Item>\r\n          <span>ВХОД / РЕГИСТРАЦИЯ</span>\r\n        </Form.Item>\r\n        <Form.Item>\r\n         <Input\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"Username\"\r\n            />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Input\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n            Log in\r\n          </Button>\r\n        </Form.Item>\r\n      </Form> \r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login","import React, {useState} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classNames from 'classnames'\r\nimport { socket } from 'cors'\r\n\r\nimport { Board } from 'containers'\r\nimport { Button, Checkbox, Alert } from 'antd'\r\nimport { Login } from 'moduls'\r\n\r\nimport './Home.scss'\r\n\r\nconst Home = ({ next, me, address }) => {\r\n  let [findStatus, setFindStatus] = useState(false)\r\n\r\n  const findHandler = () => {\r\n    if(!findStatus) {\r\n      console.log('Начало поиска')\r\n      socket.emit('GAME:FINDING')\r\n    } else {\r\n      socket.emit('GAME:STOP_FINDING')\r\n      console.log('Прекращение поиска')\r\n    }\r\n    setFindStatus(!findStatus)\r\n  }\r\n  const gnevHandler = () => {\r\n    socket.emit('GAME:ISTIME', {address})\r\n  }\r\n\r\n  return (\r\n    <section className={classNames('home')}>\r\n      <div className='home__mainLine'>\r\n        <div className='home__leftTab'>\r\n          <div className='home__leftTab__login'>\r\n            <Login />\r\n          </div>\r\n        </div>\r\n        <div className='home__gameBoard'>\r\n          <div className='home__gameBoard__alertZone'>\r\n            {\r\n              me.length > 0\r\n              ? next === me[0].id[0]\r\n                  ? <Alert message=\"Ваш ход\" type=\"success\" showIcon/>\r\n                  : <Alert message=\"Ход противника\" type=\"warning\" showIcon/>\r\n              : <Alert message=\"Пора затестить этот shit)\" type=\"success\" showIcon/>\r\n            }\r\n          </div>\r\n          <Board />\r\n          <div className='home__gameBoard__controlers'>\r\n            <Checkbox onChange={(e) => console.log(e)}>Использовать подсказки</Checkbox>\r\n            {\r\n              me.length > 0 \r\n              ? <Button\r\n              onClick={gnevHandler}\r\n              type='danger'>\r\n              ПОРА УЖЕ ХОДИТЬ!</Button>\r\n              : <Button \r\n              onClick={findHandler} \r\n              type={findStatus ? 'dashed' : 'danger'}>\r\n              {findStatus ? 'Остановить поиск' : 'Найти противника!'}</Button>\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className='home__rightTab'>\r\n          \r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default connect(({next, me, address}) => ({next, me, address}))(Home)","import React from 'react';\r\nimport {render} from 'react-dom';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport { Provider } from 'react-redux'\r\nimport { DndProvider } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\n\r\nimport store from 'redux/store'\r\n\r\nimport { Home, Login } from 'pages'\r\n\r\nimport 'antd/dist/antd.css';\r\nimport './styles/index.scss'\r\n\r\nconst root = document.getElementById('root')\r\n\r\nrender(\r\n<Provider store={store}>\r\n  <DndProvider backend={HTML5Backend}>\r\n    <Router>\r\n      <Route exact path='/' component={Home} />\r\n    </Router>\r\n  </DndProvider>\r\n</Provider>\r\n, \r\nroot)\r\n\r\n"],"sourceRoot":""}